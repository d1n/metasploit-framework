## PostgreSQL for Linux Payload Execution

On some default Linux installations of PostgreSQL, the 
postgres service account may write to the /tmp directory, 
and may source UDF Shared Libraries's from there as well, 
allowing execution of arbitrary code. This module compiles a 
Linux shared object file, uploads it to the target host via 
the UPDATE pg_largeobject method of binary injection, and 
creates a UDF (user defined function) from that shared 
object. Because the payload is run as the shared object's 
constructor, it does not need to conform to specific 
Postgres API versions.


## Module Name
exploit/linux/postgres/postgres_payload

## Authors
* midnitesnake
* egypt
* todb


## References
* http://www.leidecker.info/pgshell/Having_Fun_With_PostgreSQL.txt



## Targets
* Linux x86
* Linux x86_64


## Platforms
linux

## Reliability
[Excellent](https://github.com/rapid7/metasploit-framework/wiki/Exploit-Ranking)

## Demo

```
msf > use exploit/linux/postgres/postgres_payload
msf exploit(postgres_payload) > show targets
   ... a list of targets ...
msf exploit(postgres_payload) > set TARGET <target-id>
msf exploit(postgres_payload) > show options
   ... show and set options ...
msf exploit(postgres_payload) > run
```
    
    